# 🚨 ターミナル表示の掟（絶対遵守）

## 基本理念

**「エラーは詳細、成功は簡潔」- トークン効率と問題解決の両立**

## 📋 エラー表示ルール（詳細必須）

### 1. エラーは絶対に全表示
```bash
# ✅ 正しいパターン
npm run build 2>&1
# エラーが出たら全てのエラーメッセージを表示

# ❌ 間違ったパターン  
npm run build > /dev/null 2>&1
# エラーを隠してしまう
```

### 2. 的確な詳細表示項目
- **エラーメッセージ**: 原文そのまま
- **スタックトレース**: 該当行とファイル
- **終了コード**: プロセスの失敗理由
- **関連ファイル**: 問題のあるファイル名
- **型エラー詳細**: TypeScriptエラーの完全情報

### 3. 日本語簡易解説パターン
```typescript
interface ErrorExplanation {
  error: string;          // 原文エラー
  explanation: string;    // 日本語解説
  action: string;        // 対処方法
}

// 実装例
"💡 解説: 型エラー - プロパティが見つからない"
"💡 解説: ビルドエラー - インポート文の問題"  
"💡 解説: Git エラー - リモートとの同期問題"
```

### 4. 中級者向け解説レベル
```markdown
# 適切なレベル（単語レベル）
"💡 解説: TypeScript型不一致 - interfaceプロパティ未定義"
"💡 解説: ESLint警告 - 未使用変数検出"
"💡 解説: Git merge競合 - 同一行編集衝突"

# 避けるべき（詳細すぎ）
"💡 解説: TypeScriptコンパイラがinterfaceの型定義において..."

# 避けるべき（簡潔すぎ）  
"💡 解説: エラー"
```

## ✅ 成功時表示ルール（簡潔推奨）

### 1. 成功は簡易表示
```bash
# ✅ 推奨パターン
npm run build > /dev/null 2>&1 && echo "✅ ビルド完了"

# ❌ 非効率パターン
npm run build  # 大量の成功ログを表示
```

### 2. 最小限の確認情報
```bash
# 必要な情報のみ
git add . > /dev/null 2>&1 && echo "✅ ファイル追加完了"
git commit -m "message" > /dev/null 2>&1 && echo "✅ コミット完了"
npm run lint > /dev/null 2>&1 && echo "✅ リント通過"
```

### 3. 統計情報（必要時のみ）
```bash
# 有用な統計は表示
git diff --stat  # 変更ファイル数と行数
npm run test | grep -E "(passing|failing)"  # テスト結果サマリー
```

## 🛠️ 具体的な実装パターン

### Git操作
```bash
# エラー時: 詳細表示
git push 2>&1 || {
  echo "❌ Git push エラー"
  echo "💡 解説: リモートプッシュ失敗 - 権限またはネットワーク問題"
}

# 成功時: 簡潔
git push > /dev/null 2>&1 && echo "✅ プッシュ完了"
```

### ビルド・型チェック
```bash
# エラー時: TypeScriptエラー全表示
npm run type-check 2>&1 || {
  echo "💡 解説: TypeScript型チェックエラー - 型定義の不整合"
}

# 成功時: 簡潔
npm run type-check > /dev/null 2>&1 && echo "✅ 型チェック通過"
```

### テスト実行
```bash
# エラー時: 失敗したテスト詳細
npm test 2>&1 || {
  echo "💡 解説: テスト失敗 - 期待値と実際値の不一致"
}

# 成功時: 成功数のみ
npm test 2>/dev/null | grep -E "passing|tests?" || echo "✅ テスト完了"
```

## 📊 効率性の指標

### トークン使用量
```typescript
// エラー時（必要なコスト）
エラー詳細: 200-500 トークン  // 問題解決に必須
日本語解説: 20-50 トークン   // 理解促進

// 成功時（効率化）
従来: 500-2000 トークン     // 不要な詳細
改善後: 10-30 トークン      // 必要最小限
```

### 品質指標
- **エラー解決速度**: 詳細表示により向上
- **開発効率**: 成功時簡潔化により向上  
- **学習効果**: 日本語解説により向上

## 🎯 Claude実行時のチェックリスト

### 毎回確認事項
- [ ] エラーが発生した場合、全詳細を表示したか？
- [ ] エラーに日本語解説を付けたか？
- [ ] 成功時は簡潔な表示にしたか？
- [ ] 必要な統計情報は残したか？

### 禁止事項
- ❌ エラーメッセージの省略
- ❌ エラー情報の要約（はしょり）
- ❌ 成功時の冗長な出力
- ❌ 日本語解説の省略

## 🔄 継続的改善

### 定期的な見直し
- エラーパターンの蓄積
- 日本語解説の品質向上
- 効率化手法の最適化

### メトリクス監視
- エラー解決時間の短縮
- トークン使用量の最適化
- 開発者の理解度向上

この掟により、**問題解決の迅速性とトークン効率を両立**できます。