# COSMIC ORACLE データベース可視化ガイド

## 📊 概要

COSMIC ORACLEプロジェクトの占術データベースを表形式でビジュアル化するための詳細分析と実装ガイドです。全8つの占術システムのデータ構造、分量、技術的要件をまとめています。

---

## 📈 データベース全体概要

### 総合統計
- **総レコード数**: 400-500レコード
- **総フィールド数**: 2,500-3,000フィールド
- **総文字数**: 15万-20万文字（日本語）
- **推定総ページ数**: **35-45ページ**（A4サイズ）

---

## 🔮 各占術システム詳細分析

### 1. 数秘術（Numerology）
```
データファイル: src/lib/divination/numerology.ts
データ種別: 計算ベース + 解釈辞書
```

#### データ構造
| 項目 | 内容 | 件数 |
|------|------|------|
| アルファベット値対応 | A-Z → 数値変換表 | 26件 |
| ライフパス解釈 | 1-9 + マスターナンバー | 12件 |
| 運命数解釈 | 各数字の性格・適職・運勢 | 12件 |
| ソウルナンバー解釈 | 内面的特徴 | 12件 |
| パーソナリティ解釈 | 外面的特徴 | 12件 |

#### 可視化要件
- **推定ページ数**: 2-3ページ
- **表形式**: 縦軸=数字、横軸=解釈種別
- **特徴**: 計算アルゴリズムの説明も必要

---

### 2. 西洋占星術（Astrology）
```
データファイル: src/lib/divination/astrology.ts + astrology-api.ts
データ種別: 静的データ + API連携
```

#### データ構造
| 項目 | 内容 | 件数 |
|------|------|------|
| 12星座 | 牡羊座～魚座の基本情報 | 12件 |
| 10惑星 | 太陽～冥王星の意味 | 10件 |
| 12ハウス | 第1室～第12室の意味 | 12件 |
| アスペクト | 惑星間の角度関係 | 8件 |
| 計算式 | Swiss Ephemeris連携 | - |

#### 可視化要件
- **推定ページ数**: 3-4ページ
- **表形式**: システム別に分類
- **特徴**: 天文計算の詳細説明が必要

---

### 3. 易経（I Ching）
```
データファイル: src/lib/divination/iching-data.ts
データ量: 458行
```

#### データ構造
| 項目 | フィールド | 内容例 |
|------|------------|--------|
| 64卦名 | name | "乾為天" |
| 中国名 | chineseName | "乾" |
| 卦辞 | judgment | "元亨利貞" |
| 卦象 | image | "天行健" |
| 解釈 | interpretation | 80-120文字の詳細解釈 |

#### サンプルデータ
```typescript
{
  name: "乾為天",
  chineseName: "乾",
  judgment: "乾元亨利貞。",
  image: "天行健，君子以自強不息。",
  interpretation: "創造力とリーダーシップの象徴。積極的に行動することで大きな成功を収めることができる。"
}
```

#### 可視化要件
- **推定ページ数**: 6-7ページ
- **レイアウト**: 卦番号順の一覧表
- **特徴**: 中国語併記、卦の図象表示が理想的

---

### 4. タロット占い（Tarot）
```
データファイル: src/lib/divination/tarot-data.ts
データ量: 292行
```

#### データ構造
| カード種別 | 件数 | フィールド数 | 備考 |
|------------|------|-------------|------|
| 大アルカナ | 22枚 | 7フィールド | 完全実装 |
| 小アルカナ | 4枚 | 7フィールド | 一部実装（カップのみ） |
| スプレッド | 5種類 | 4フィールド | 展開法の定義 |

#### フィールド詳細
```typescript
interface TarotCard {
  id: number;
  name: string;
  arcana: 'major' | 'minor';
  keywords: string[];
  uprightMeaning: string;
  reversedMeaning: string;
  imageUrl: string;
}
```

#### 代表的なカード例
| カード名 | 正位置の意味 | 逆位置の意味 |
|----------|-------------|-------------|
| 愚者 | 新しい始まり、純粋性、冒険心 | 軽率、無謀、方向性の欠如 |
| 魔術師 | 意志力、実行力、創造力 | 操作、欺瞞、力の乱用 |
| 女教皇 | 直感、内なる知恵、神秘性 | 秘密主義、感情の抑圧 |

#### 可視化要件
- **推定ページ数**: 3-4ページ
- **レイアウト**: カード画像付き一覧
- **特徴**: 正位置・逆位置の対比表示

---

### 5. 四柱推命（Shichu Suimei）
```
データファイル: src/lib/divination/shichu-data.ts
データ量: 326行
```

#### データ構造
| データ種別 | 件数 | 内容 |
|------------|------|------|
| 年柱干支 | 60年周期 | 1984-2043年の干支対応 |
| 干支組み合わせ | 30パターン | 各組み合わせの特徴 |
| 大運データ | 8段階 | 人生各期の運勢 |
| 十神分析 | 10種類 | 比肩、劫財、食神など |
| 五行関係 | 5要素 | 木火土金水の相生相剋 |

#### 年柱データ例
```typescript
interface YearStemBranch {
  year: number;
  stem: string;
  branch: string;
  element: string;
  characteristics: string;
}
```

#### 可視化要件
- **推定ページ数**: 4-5ページ
- **特徴**: 複雑な関係性の図解が必要
- **レイアウト**: 五行相関図、60干支一覧表

---

### 6. ヴェーダ占星術（Vedic Astrology）
```
データファイル: src/lib/divination/vedic-data.ts
データ量: 673行（最大）
```

#### データ構造（最も複雑）
| データ種別 | 件数 | フィールド数 | 詳細 |
|------------|------|-------------|------|
| ヴェーダ星座 | 12星座 | 6フィールド | 恒星基準の星座 |
| ナクシャトラ | 27宿 | 9フィールド | 月の星宿システム |
| ハウス | 12室 | 5フィールド | 人生分野の詳細 |
| ダシャー | 9惑星周期 | 4フィールド | 時期予測システム |

#### ナクシャトラ例
```typescript
interface NakshatraData {
  name: string;
  ruler: string;
  deity: string;
  symbol: string;
  characteristics: string[];
  pada: number;
  degrees: [number, number];
  nature: string;
  compatibility: string[];
}
```

#### 特徴データ（51項目）
```typescript
const features = [
  'leadership', 'creativity', 'intuition', 'healing',
  'travel', 'education', 'wealth', 'spirituality',
  // ... 43項目以上
];
```

#### 可視化要件
- **推定ページ数**: 8-10ページ（最大）
- **複雑さ**: 最も詳細なデータ構造
- **特徴**: 恒星図、ダシャー期間チャート必要

---

### 7. ルーン占い（Runes）
```
データファイル: src/lib/divination/runes-data.ts
データ量: 327行
```

#### データ構造
| 項目 | 件数 | 詳細 |
|------|------|------|
| Elder Futharkルーン | 24文字 | 完全実装 |
| ルーン群（Aett） | 3群 | フレイヤ、ハイム、テュール |
| スプレッド | 5種類 | 1ルーン～ケルト十字 |

#### ルーンデータ例
```typescript
interface Rune {
  name: string;
  symbol: string;
  meaning: string;
  reversedMeaning: string;
  element: string;
  aett: string;
  numerology: number;
  divination: string;
  keywords: string[];
}
```

#### 24文字一覧（抜粋）
| 文字 | 名前 | 意味 | 逆位置 |
|------|------|------|--------|
| ᚠ | フェフ | 財産、豊かさ | 損失、貧困 |
| ᚢ | ウルズ | 野生の力、健康 | 弱さ、病気 |
| ᚦ | スリサズ | 雷神の力、困難 | 悪意、破壊 |

#### 可視化要件
- **推定ページ数**: 3-4ページ
- **特徴**: ルーン文字の正確な表示が必要
- **レイアウト**: 3群に分けた表示

---

### 8. 手相占い（Palmistry）
```
データファイル: src/lib/divination/palmistry-data.ts
データ量: 396行
```

#### データ構造
| データ種別 | 件数 | 詳細 |
|------------|------|------|
| 手相線 | 8種類 | 生命線、知能線、感情線等 |
| 手の丘 | 8箇所 | 金星丘、木星丘等 |
| 指の特徴 | 5本指 | 各指の意味と形状 |
| 手の形 | 4タイプ | 土・風・水・火 |

#### 手相線データ例
```typescript
interface PalmLineData {
  characteristics: {
    clear: string;
    faint: string;
    broken: string;
    chained: string;
  };
  length: {
    short: string;
    medium: string;
    long: string;
  };
}
```

#### 主要4線
| 線名 | 意味 | 長さの解釈 |
|------|------|-----------|
| 生命線 | 生命力、健康 | 長い＝生命力旺盛 |
| 知能線 | 思考力、才能 | 長い＝深い思考力 |
| 感情線 | 愛情、人間関係 | 長い＝情愛深い |
| 運命線 | 社会運、職業運 | 明瞭＝目標明確 |

#### 可視化要件
- **推定ページ数**: 5-6ページ
- **特徴**: 手のイラスト・図解が必須
- **レイアウト**: 部位別詳細表

---

## 🛠️ 技術実装ガイド

### データベース可視化の技術的要件

#### 1. 自動生成システム
```typescript
// データファイルから表を自動生成
interface TableGenerator {
  generateFromDataFile(filePath: string): Table;
  exportToPDF(table: Table): Buffer;
  exportToHTML(table: Table): string;
  exportToMarkdown(table: Table): string;
}
```

#### 2. レスポンシブ対応
```css
/* モバイル対応 */
@media (max-width: 768px) {
  .data-table {
    font-size: 0.8rem;
    overflow-x: auto;
  }
}
```

#### 3. 検索・フィルタ機能
```typescript
interface SearchOptions {
  system: string[];      // 占術システム絞り込み
  keyword: string;       // キーワード検索
  dataType: string[];    // データ種別フィルタ
}
```

### 推奨実装順序

#### Phase 1: 基本システム（1-2週間）
1. **数秘術** - 最もシンプルな構造
2. **西洋占星術** - 標準的な表形式
3. **ルーン** - 文字表示の技術検証

#### Phase 2: 中規模システム（2-3週間）
4. **タロット** - 画像表示機能
5. **四柱推命** - 複雑な関係性表示
6. **手相** - 図解との連携

#### Phase 3: 大規模システム（2-3週間）
7. **易経** - 大量データの最適化
8. **ヴェーダ占星術** - 最も複雑な構造

### パフォーマンス考慮事項

#### データ読み込み最適化
```typescript
// 遅延読み込み
const lazyLoadTable = async (system: string) => {
  const data = await import(`./data/${system}-data.ts`);
  return generateTable(data);
};

// ページネーション
const paginateData = (data: any[], pageSize: number = 50) => {
  // 大量データの分割表示
};
```

#### メモリ使用量
- **推定メモリ使用量**: 5-10MB（全データ）
- **最適化**: システム別の部分読み込み
- **キャッシュ**: 表示済みデータのメモリ保持

---

## 📋 各システム別実装仕様

### 必要な機能要件

#### 1. 基本表示機能
- [x] データの表形式表示
- [x] ソート機能（列ごと）
- [x] 検索・フィルタ機能
- [x] ページネーション

#### 2. 視覚的機能
- [x] カラーコーディング（システム別）
- [x] アイコン表示
- [x] レスポンシブデザイン
- [x] 印刷対応

#### 3. 高度な機能
- [x] データエクスポート（PDF/CSV）
- [x] ブックマーク機能
- [x] 詳細表示モーダル
- [x] 関連データのリンク表示

### カラースキーム案

| 占術システム | メインカラー | 背景色 | 理由 |
|-------------|-------------|--------|------|
| 数秘術 | #4A90E2 | #E3F2FD | 数学・論理性 |
| 西洋占星術 | #9C27B0 | #F3E5F5 | 神秘性・宇宙 |
| 易経 | #FF9800 | #FFF3E0 | 東洋・古典 |
| タロット | #E91E63 | #FCE4EC | 直感・情熱 |
| 四柱推命 | #795548 | #EFEBE9 | 土・安定性 |
| ヴェーダ占星術 | #FF5722 | #FFF3E0 | 太陽・エネルギー |
| ルーン | #607D8B | #ECEFF1 | 石・北欧 |
| 手相 | #4CAF50 | #E8F5E8 | 自然・生命 |

---

## 📊 実装見積もり

### 開発工数
- **設計・準備**: 1週間
- **基本システム開発**: 3-4週間
- **データ整備・検証**: 2週間
- **UI/UX改善**: 2週間
- **テスト・調整**: 1週間

**総工数**: **9-10週間**

### 技術スタック推奨
```typescript
// フロントエンド
- React / Next.js
- TypeScript
- Material-UI / Chakra UI
- React Table

// データ処理
- Lodash
- D3.js (図表)
- jsPDF (PDF出力)

// スタイリング
- Tailwind CSS
- Styled Components
```

### 難易度評価
- **技術的難易度**: ⭐⭐⭐（中程度）
- **データ整備**: ⭐⭐⭐⭐（高）
- **UI/UX設計**: ⭐⭐⭐⭐（高）
- **保守性**: ⭐⭐⭐（中程度）

---

## 🎯 結論

COSMIC ORACLEのデータベース可視化プロジェクトは：

✅ **実現可能性**: 高い
✅ **価値**: 非常に高い（占術研究・教育に貢献）
✅ **技術的興味深さ**: 高い
✅ **ユーザビリティ**: 優秀

**推定成果物**: 35-45ページの包括的な占術データベース表

このプロジェクトにより、古代から現代まで受け継がれてきた占術の叡智を、現代的で使いやすい形で体系化できます。研究者、実践者、一般利用者すべてにとって価値のあるリソースとなるでしょう。